import{_ as y}from"./6lH3MCQT.js";import{u as g,_ as T}from"./Hdyclk7x.js";import{T as B,t as o,v as _,x as e,z as u,y as p,B as j,X as b,U as O,$ as L,L as s,Q as h,R as x,Z as I,a0 as M,r as $,_ as N,a1 as V}from"./CUXk9wOt.js";import"./CvSFkUzM.js";const H={class:"basket__body-card flex --align-end --just-space"},P={class:"basket__card-block flex"},S={class:"catalog__card-thumb thumb"},w={class:"catalog__card-info flex --direction-column --gap-16"},z={class:"catalog__card-name"},D={class:"catalog__card-price flex --just-space --align-center"},F={class:"catalog__card-price-number"},R={class:"basket__card-block flex --align-center"},U={class:"basket__card-count flex --align-center"},E={class:"catalog__card-price-buy-thumb thumb"},Q={class:"catalog__card-price-buy-thumb thumb"},X={__name:"card",props:["card","index"],setup(a){const v=g(),{cardsBasket:t,finalPrice:i,countCard:d}=B(v);function m(r,n){i.value=0,n==="plus"?r.count+=1:r.count-=1,d.value=r.count;for(let l=0;l<t.value.length;l++)console.log(parseInt(t.value[l].price,10)*r.count),i.value=i.value+parseInt(t.value[l].price,10)*t.value[l].count}function f(r){let n=t.value.indexOf(r);d.value=r.count,i.value=i.value-parseInt(t.value[n].price,10)*d.value,t.value.splice(t.value.indexOf(r),1)}return(r,n)=>{const l=T,k=y;return o(),_("div",H,[e("div",P,[e("div",S,[u(l,{class:"catalog__card--img",src:a.card.image},null,8,["src"])]),e("div",w,[e("div",z,p(a.card.title),1),e("div",D,[e("div",F,p(a.card.price.split(".")[0]*a.card.count)+" ₽",1)])])]),e("div",R,[j(p(a.card.count)+" ",1),e("div",U,[e("button",{class:b([{"--disabled":a.card.count==0},"basket__card-count-btn --minus"]),onClick:n[0]||(n[0]=c=>m(a.card,"minus"))},[e("div",E,[u(k,{name:"minus",filled:""})])],2),O(e("input",{"onUpdate:modelValue":n[1]||(n[1]=c=>a.card.count=c),type:"number",class:"basket__card-count-input"},null,512),[[L,a.card.count]]),e("button",{class:"basket__card-count-btn --plus",onClick:n[2]||(n[2]=c=>m(a.card,"plus"))},[e("div",Q,[u(k,{name:"plus",filled:""})])])]),e("div",{onClick:n[3]||(n[3]=c=>f(a.card)),class:"basket__delete flex --align-center --just-center"})])])}}},Z=X,q={id:"basket-popup",class:"basket grid"},A={class:"basket__head flex --just-space --align-center"},G=e("h2",{class:"basket__title"},"Корзина",-1),J={class:"basket__body flex --direction-column"},K={class:"basket__body-head flex --just-space"},W={class:"basket__body-head-count"},Y=e("div",{class:"basket__body-head-delete"},"очистить список",-1),ee={key:0,class:"basket__body-cards flex --direction-column"},ne={class:"basket__footer flex --just-space"},te={class:"basket__price flex --direction-column"},se=e("span",null,"Итого",-1),ae=e("button",{class:"basket__button"},"Оформить заказ",-1),ce={__name:"basket",setup(a){const v=g(),{cardsBasket:t,isOpenBasket:i,finalPrice:d}=B(v);return(m,f)=>{const r=Z;return o(),_("div",q,[e("div",A,[G,e("div",{class:"basket__close flex --align-center --just-center",onClick:f[0]||(f[0]=n=>i.value=!s(i))})]),e("div",J,[e("div",K,[e("div",W,[e("span",null,p(s(t).length),1),j(" товара")]),Y]),s(t)?(o(),_("div",ee,[(o(!0),_(h,null,x(s(t),(n,l)=>(o(),I(r,{card:n,index:l},null,8,["card","index"]))),256))])):M("",!0)]),e("div",ne,[e("div",te,[se,e("span",null,p(s(d).toString().replace(/\B(?=(\d{3})+(?!\d))/g," "))+"₽",1)]),ae])])}}},oe=ce,le={class:"nav flex --just-center"},_e={class:"nav__wrap flex --align-center col --12 --just-space"},ie=e("span",null,null,-1),de=e("span",null,null,-1),re=e("span",null,null,-1),ue=[ie,de,re],ve=e("span",null,null,-1),me=e("span",null,null,-1),fe=e("span",null,null,-1),pe=[ve,me,fe],be={class:"nav__menu --mob flex --gap-24 --align-center"},ke=["href","innerHTML"],he=e("div",{class:"nav__tel flex --direction-column"},[e("a",{href:"tel:+74952217769",class:"nav__tel-number link"},"+7 (495) 221-77-69"),e("div",{class:"nav__tel-text"},"Заказать звонок")],-1),xe={class:"nav__logo col --2"},$e={class:"nav__logo-thumb thumb"},ge={class:"nav__block col --10 flex --align-center --just-space"},Be={class:"nav__menu flex --gap-24 --align-center"},Ce=["href","innerHTML"],ye={class:"nav__info flex"},je=e("div",{class:"nav__tel flex --direction-column"},[e("a",{href:"tel:+74952217769",class:"nav__tel-number link"},"+7 (495) 221-77-69"),e("div",{class:"nav__tel-text"},"Заказать звонок")],-1),Ne={class:"nav__buttons flex"},Te={class:"nav__button thumb"},Oe={__name:"nav",setup(a){const v=g(),{isOpenBasket:t,cardsBasket:i}=B(v),d=$(!1),m=$([{name:"продукты",link:"#"},{name:"цвета",link:"#"},{name:"вдохновение",link:"#"},{name:"советы",link:"#"},{name:"найти магазин",link:"#"}]),f=$([{name:"nav/search"},{name:"nav/profile"},{name:"nav/heart"}]);return(r,n)=>{const l=y,k=oe;return o(),_("div",le,[e("div",_e,[e("div",{class:"nav__mob-btn flex --direction-column",onClick:n[0]||(n[0]=c=>d.value=!s(d))},ue),e("div",{class:b([{"--is-open":s(d)},"nav-mob__wrap flex --directio-column"])},[e("div",{class:b([{"--is-open":s(d)},"nav__mob-btn flex --direction-column"]),onClick:n[1]||(n[1]=c=>d.value=!s(d))},pe,2),e("div",be,[(o(!0),_(h,null,x(s(m),(c,C)=>(o(),_("a",{href:c.link,class:"nav__menu-item link",innerHTML:c.name},null,8,ke))),256))]),he],2),e("div",xe,[e("div",$e,[u(l,{name:"logo",filled:""})])]),e("div",ge,[e("div",Be,[(o(!0),_(h,null,x(s(m),(c,C)=>(o(),_("a",{href:c.link,class:"nav__menu-item link",innerHTML:c.name},null,8,Ce))),256))]),e("div",ye,[je,e("div",Ne,[(o(!0),_(h,null,x(s(f),(c,C)=>(o(),_("div",Te,[u(l,{name:c.name,filled:""},null,8,["name"])]))),256)),e("div",{class:"nav__button --basket thumb flex --align-center --just-center",onClick:n[2]||(n[2]=c=>t.value=!s(t))},[e("span",null,p(s(i).length),1),u(l,{name:"nav/basket",filled:""})])])])]),u(k,{isOpenBasket:s(t),class:b({"--is-open":s(t)})},null,8,["isOpenBasket","class"]),e("div",{class:b([{"--is-open":s(t)},"basket__mask --mask"]),onClick:n[3]||(n[3]=c=>t.value=!s(t))},null,2)])])}}},Le=Oe,Ie={},Me={class:"footer"};function Ve(a,v){return o(),_("div",Me)}const He=N(Ie,[["render",Ve]]),Pe={},Se={class:"main-page flex --direction-column --align-center"};function we(a,v){const t=Le,i=He;return o(),_("div",Se,[u(t),V(a.$slots,"default"),u(i)])}const Ue=N(Pe,[["render",we]]);export{Ue as default};
